{"version":3,"file":"Container.js","sourceRoot":"","sources":["Container.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;IAAA,2CAA0C;IAQ1C,yBAAwB;IACxB,uCAAmE;IAInE,mBACC,SAAyC,EACzC,IAAmB,EACnB,OAA0C;QAA1C,wBAAA,EAAA,UAA4B,yBAAc;QAGzC,IAAA,0BAA4C,EAA5C,4EAA4C,EAC5C,wBAAwC,EAAxC,wEAAwC,CAC7B;QAEZ,MAAM;YAAe,2BAAe;YAA7B;;YAaP,CAAC;YAZU,wBAAM,GAAhB;gBACO,IAAA,SAA+B,EAA7B,0BAAU,EAAE,sBAAQ,CAAU;gBAEtC,MAAM,CAAC,KAAC,CAAoB,IAAI,EAAE;oBACjC,KAAK,EAAE,IAAI;oBACX,MAAM,EAAE,cAAM,OAAA,KAAC,CAAC,SAAS,EAAE,UAAU,EAAE,QAAQ,CAAC,EAAlC,CAAkC;oBAChD,aAAa,eAAA;oBACb,UAAU,YAAA;oBACV,WAAW,aAAA;oBACX,QAAQ,UAAA;iBACR,CAAC,CAAC;YACJ,CAAC;YACF,cAAC;QAAD,CAAC,AAbM,CAAc,uBAAU,GAa7B;IACH,CAAC;IAxBD,8BAwBC;IAED,kBAAe,SAAS,CAAC","sourcesContent":["import { WidgetBase } from './WidgetBase';\nimport {\n\tConstructor,\n\tDNode,\n\tRegistryLabel,\n\tWidgetBaseInterface,\n\tWidgetProperties\n} from './interfaces';\nimport { w } from './d';\nimport { BaseInjector, defaultMappers, Mappers } from './Injector';\n\nexport type Container<T extends WidgetBaseInterface> = Constructor<WidgetBase<Partial<T['properties']> & WidgetProperties>>;\n\nexport function Container<W extends WidgetBaseInterface>(\n\tcomponent: Constructor<W> | RegistryLabel,\n\tname: RegistryLabel,\n\tmappers: Partial<Mappers> = defaultMappers\n): Container<W> {\n\tconst {\n\t\tgetProperties = defaultMappers.getProperties,\n\t\tgetChildren = defaultMappers.getChildren\n\t} = mappers;\n\n\treturn class extends WidgetBase<any> {\n\t\tprotected render(): DNode {\n\t\t\tconst { properties, children } = this;\n\n\t\t\treturn w<BaseInjector<any>>(name, {\n\t\t\t\tscope: this,\n\t\t\t\trender: () => w(component, properties, children),\n\t\t\t\tgetProperties,\n\t\t\t\tproperties,\n\t\t\t\tgetChildren,\n\t\t\t\tchildren\n\t\t\t});\n\t\t}\n\t};\n}\n\nexport default Container;\n"]}