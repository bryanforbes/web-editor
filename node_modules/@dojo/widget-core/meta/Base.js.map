{"version":3,"file":"Base.js","sourceRoot":"","sources":["Base.ts"],"names":[],"mappings":";;;;;;;;;;;IAAA,4CAAuC;IAKvC;QAMC,cAAY,UAAgC;YAC3C,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC,UAAU,CAAC;YACzC,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,aAAa,CAAC;YAE/C,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;QAC/B,CAAC;QAEM,kBAAG,GAAV,UAAW,GAAW;YACrB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACtB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC5B,CAAC;QAES,yBAAU,GAApB;YACC,gBAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAChD,IAAI,CAAC,aAAa,GAAG,gBAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrE,CAAC;QAES,0BAAW,GAArB,UAAsB,GAAW;YAChC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAE7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;YACnB,CAAC;QACF,CAAC;QACF,WAAC;IAAD,CAAC,AA9BD,IA8BC;IA9BY,oBAAI;IAgCjB,kBAAe,IAAI,CAAC","sourcesContent":["import global from '@dojo/core/global';\nimport Map from '@dojo/shim/Map';\nimport Set from '@dojo/shim/Set';\nimport { WidgetMetaProperties } from '../interfaces';\n\nexport class Base {\n\tprivate _invalidate: () => void;\n\tprivate _invalidating: number;\n\tprivate _requiredNodes: Set<string>;\n\tprotected nodes: Map<string, HTMLElement>;\n\n\tconstructor(properties: WidgetMetaProperties) {\n\t\tthis._invalidate = properties.invalidate;\n\t\tthis._requiredNodes = properties.requiredNodes;\n\n\t\tthis.nodes = properties.nodes;\n\t}\n\n\tpublic has(key: string): boolean {\n\t\tthis.requireNode(key);\n\t\treturn this.nodes.has(key);\n\t}\n\n\tprotected invalidate(): void {\n\t\tglobal.cancelAnimationFrame(this._invalidating);\n\t\tthis._invalidating = global.requestAnimationFrame(this._invalidate);\n\t}\n\n\tprotected requireNode(key: string): void {\n\t\tthis._requiredNodes.add(key);\n\n\t\tif (!this.nodes.has(key)) {\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n}\n\nexport default Base;\n"]}