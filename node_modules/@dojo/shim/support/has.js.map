{"version":3,"file":"has.js","sourceRoot":"","sources":["has.ts"],"names":[],"mappings":"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","sourcesContent":["import global from './global';\nimport has from '@dojo/has/has';\nimport { add } from '@dojo/has/has';\n\nexport default has;\nexport * from '@dojo/has/has';\n\n/* ECMAScript 6 and 7 Features */\n\n/*\n * Determine whether or not native Symbol exists. If it doesn't, we don't want to use\n * a few other native implementations like Map, WeakMap, Set.  Consider a polyfill that provides Symbol,\n * Map, etc in the global namespace. If the polyfill's Symbol is not compatible with our Symbol, neither\n * will be anything that uses their iterator symbol, like Map, Set, etc.\n */\n\n/* Symbol */\nadd('es6-symbol', typeof global.Symbol !== 'undefined' && typeof Symbol() === 'symbol');\n\n/* Object */\nadd('es6-object-assign', typeof (<any> Object).assign === 'function');\n\n/* Array */\nadd('es6-array-from', 'from' in global.Array);\nadd('es6-array-of', 'of' in global.Array);\nadd('es6-array-fill', () => {\n\tif ('fill' in global.Array.prototype) {\n\t\t/* Some versions of Safari do not properly implement this */\n\t\treturn (<any> [ 1 ]).fill(9, Number.POSITIVE_INFINITY)[0] === 1;\n\t}\n\treturn false;\n});\nadd('es6-array-findindex', 'findIndex' in global.Array.prototype);\nadd('es6-array-find', 'find' in global.Array.prototype);\nadd('es6-array-copywithin', 'copyWithin' in global.Array.prototype);\nadd('es7-array-includes', 'includes' in global.Array.prototype);\n\n/* String */\nadd('es6-string-raw', function () {\n\tfunction getCallSite(callSite: TemplateStringsArray, ...substitutions: any[]) {\n\t\treturn callSite;\n\t}\n\n\tif ('raw' in global.String) {\n\t\tlet b = 1;\n\t\tlet callSite = getCallSite`a\\n${b}`;\n\n\t\t(<any> callSite).raw = [ 'a\\\\n' ];\n\t\tconst supportsTrunc = global.String.raw(callSite, 42) === 'a:\\\\n';\n\n\t\treturn supportsTrunc;\n\t}\n\n\treturn false;\n});\nadd('es6-string-fromcodepoint', 'fromCodePoint' in global.String);\nadd('es6-string-codepointat', 'codePointAt' in global.String.prototype);\nadd('es6-string-normalize', 'normalize' in global.String.prototype);\nadd('es6-string-repeat', 'repeat' in global.String.prototype);\nadd('es6-string-startswith', 'startsWith' in global.String.prototype);\nadd('es6-string-endswith', 'endsWith' in global.String.prototype);\nadd('es6-string-includes', 'includes' in global.String.prototype);\nadd('es6-string-padstart', 'padStart' in global.String.prototype);\nadd('es6-string-padend', 'padEnd' in global.String.prototype);\n\n/* Math */\n\nadd('es6-math-acosh', typeof global.Math.acosh === 'function');\nadd('es6-math-clz32', typeof global.Math.clz32 === 'function');\nadd('es6-math-imul', () => {\n\tif ('imul' in global.Math) {\n\t\t/* Some versions of Safari on ios do not properly implement this */\n\t\treturn (<any> Math).imul(0xffffffff, 5) === -5;\n\t}\n\treturn false;\n});\n\n/* Promise */\nadd('es6-promise', typeof global.Promise !== 'undefined' && has('es6-symbol'));\n\n/* Observable */\nadd('es-observable', typeof global.Observable !== 'undefined');\n\n/* Set */\nadd('es6-set', () => {\n\tif (typeof global.Set === 'function') {\n\t\t/* IE11 and older versions of Safari are missing critical ES6 Set functionality */\n\t\tconst set = new global.Set([1]);\n\t\treturn set.has(1) && 'keys' in set && typeof set.keys === 'function' && has('es6-symbol');\n\t}\n\treturn false;\n});\n\n/* Map */\nadd('es6-map', function () {\n\tif (typeof global.Map === 'function') {\n\t\t/*\n\t\tIE11 and older versions of Safari are missing critical ES6 Map functionality\n\t\tWe wrap this in a try/catch because sometimes the Map constructor exists, but does not\n\t\ttake arguments (iOS 8.4)\n\t\t */\n\t\ttry {\n\t\t\tconst map = new global.Map([ [0, 1] ]);\n\n\t\t\treturn map.has(0) &&\n\t\t\t\ttypeof map.keys === 'function' && has('es6-symbol') &&\n\t\t\t\ttypeof map.values === 'function' &&\n\t\t\t\ttypeof map.entries === 'function';\n\t\t}\n\t\tcatch (e) {\n\t\t\t/* istanbul ignore next: not testing on iOS at the moment */\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n});\n\n/* WeakMap */\nadd('es6-weakmap', function () {\n\tif (typeof global.WeakMap !== 'undefined') {\n\t\t/* IE11 and older versions of Safari are missing critical ES6 Map functionality */\n\t\tconst key1 = {};\n\t\tconst key2 = {};\n\t\tconst map = new global.WeakMap([ [ key1, 1 ] ]);\n\t\tObject.freeze(key1);\n\t\treturn map.get(key1) === 1 && map.set(key2, 2) === map && has('es6-symbol');\n\t}\n\treturn false;\n});\n\n/* Miscellaneous features */\n\nadd('float32array', 'Float32Array' in global);\nadd('setimmediate', typeof global.setImmediate !== 'undefined');\nadd('postmessage', typeof postMessage === 'function');\nadd('microtasks', () => has('es6-promise') || has('host-node') || has('dom-mutationobserver'));\n\nadd('raf', typeof requestAnimationFrame === 'function');\n\n/* DOM Features */\n\nadd('dom-mutationobserver', () => has('host-browser') && Boolean(global.MutationObserver || global.WebKitMutationObserver));\n"]}