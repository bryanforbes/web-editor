{"version":3,"file":"Select.js","sourceRoot":"","sources":["Select.ts"],"names":[],"mappings":"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","sourcesContent":["import { WidgetBase } from '@dojo/widget-core/WidgetBase';\nimport { diffProperty } from '@dojo/widget-core/decorators/diffProperty';\nimport { Constructor, DNode } from '@dojo/widget-core/interfaces';\nimport { ThemeableMixin, ThemeableProperties, theme } from '@dojo/widget-core/mixins/Themeable';\nimport { v, w } from '@dojo/widget-core/d';\nimport { auto } from '@dojo/widget-core/diff';\nimport uuid from '@dojo/core/uuid';\nimport { assign } from '@dojo/core/lang';\nimport { find } from '@dojo/shim/array';\nimport { Keys } from '../common/util';\nimport Label, { LabelOptions, parseLabelClasses } from '../label/Label';\nimport SelectOption, { OptionData } from './SelectOption';\nimport * as css from './styles/select.m.css';\nimport * as iconCss from '../common/styles/icons.m.css';\n\n/**\n * @type SelectProperties\n *\n * Properties that can be set on a Select component\n *\n * @property CustomOption   Custom widget constructor for options. Should use SelectOption as a base\n * @property describedBy    ID of an element that provides more descriptive text\n * @property disabled       Prevents the user from interacting with the form field\n * @property invalid        Indicates the value entered in the form field is invalid\n * @property label          Label settings for form label text, position, and visibility\n * @property multiple       Whether the widget supports multiple selection\n * @property name           The form widget's name\n * @property options        Array of data for the select options' value, text content, and state\n * @property readOnly       Allows or prevents user interaction\n * @property required       Whether or not a value is required\n * @property useNatveSelect Use the native <select> element if true\n * @property value          The current value\n * @property onBlur         Called when the input loses focus\n * @property onChange       Called when the node's 'change' event is fired\n * @property onClick        Called when the input is clicked\n * @property onFocus        Called when the input is focused\n * @property onKeyDown      Called on the input's keydown event\n */\nexport interface SelectProperties extends ThemeableProperties {\n\tCustomOption?: Constructor<SelectOption>;\n\tdescribedBy?: string;\n\tdisabled?: boolean;\n\tinvalid?: boolean;\n\tlabel?: string | LabelOptions;\n\tmultiple?: boolean;\n\tname?: string;\n\toptions?: OptionData[];\n\treadOnly?: boolean;\n\trequired?: boolean;\n\tuseNativeElement?: boolean;\n\tvalue?: string;\n\tonBlur?(event: FocusEvent): void;\n\tonChange?(option: OptionData): void;\n\tonClick?(event: MouseEvent): void;\n\tonFocus?(event: FocusEvent): void;\n\tonKeyDown?(event: KeyboardEvent): void;\n}\n\nexport const SelectBase = ThemeableMixin(WidgetBase);\n\n@theme(css)\n@theme(iconCss)\nexport default class Select extends SelectBase<SelectProperties> {\n\tprivate _focusedIndex = 0;\n\tprivate _ignoreBlur = false;\n\tprivate _open = false;\n\tprivate _selectId = uuid();\n\tprivate _options: OptionData[] = [];\n\n\tprivate _onBlur (event: FocusEvent) { this.properties.onBlur && this.properties.onBlur(event); }\n\tprivate _onClick (event: MouseEvent) { this.properties.onClick && this.properties.onClick(event); }\n\tprivate _onFocus (event: FocusEvent) { this.properties.onFocus && this.properties.onFocus(event); }\n\tprivate _onKeyDown (event: KeyboardEvent) { this.properties.onKeyDown && this.properties.onKeyDown(event); }\n\n\t// native select events\n\tprivate _onNativeChange (event: Event) {\n\t\tconst {\n\t\t\tonChange\n\t\t} = this.properties;\n\t\tconst value = (<HTMLInputElement> event.target).value;\n\t\tconst option = find(this._options, (option: OptionData) => option.value === value)!;\n\t\tonChange && onChange(option);\n\t}\n\n\t// custom select events\n\tprivate _openSelect() {\n\t\tthis._open = true;\n\t\tthis._ignoreBlur = false;\n\t\tthis._focusedIndex = this._focusedIndex || 0;\n\t\tthis.invalidate();\n\t}\n\n\tprivate _closeSelect() {\n\t\tthis._open = false;\n\t\tthis.invalidate();\n\t}\n\n\tprivate _onTriggerClick(event: MouseEvent) {\n\t\tthis.properties.onClick && this.properties.onClick(event);\n\n\t\tthis._open ? this._closeSelect() : this._openSelect();\n\t}\n\n\tprivate _onTriggerBlur(event: FocusEvent) {\n\t\tif (!this._ignoreBlur) {\n\t\t\tthis.properties.onBlur && this.properties.onBlur(event);\n\t\t\tthis._closeSelect();\n\t\t}\n\t}\n\n\tprivate _onOptionMouseDown() {\n\t\tthis._ignoreBlur = true;\n\t}\n\n\tprivate _onOptionClick(event: MouseEvent, index: number) {\n\t\tconst {\n\t\t\tonChange,\n\t\t\tonClick\n\t\t} = this.properties;\n\n\t\tonClick && onClick(event);\n\n\t\tconst option = this._options[index];\n\n\t\t// if the option exists and isn't disabled, focus it and fire onChange\n\t\tif (option && !option.disabled) {\n\t\t\tthis._focusedIndex = index;\n\t\t\tonChange && onChange(option);\n\t\t\tthis._closeSelect();\n\t\t}\n\t\telse {\n\t\t\t// prevent the menu from closing when clicking on disabled options\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tprivate _onListboxKeyDown(event: KeyboardEvent) {\n\t\tthis.properties.onKeyDown && this.properties.onKeyDown(event);\n\n\t\tconst {\n\t\t\tmultiple,\n\t\t\tonChange\n\t\t} = this.properties;\n\t\tconst { _focusedIndex } = this;\n\n\t\tswitch (event.which) {\n\t\t\tcase Keys.Enter:\n\t\t\t\tif (this._options[_focusedIndex].disabled) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tonChange && onChange(this._options[_focusedIndex]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Space:\n\t\t\t\tif (this._options[_focusedIndex].disabled) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tonChange && onChange(this._options[_focusedIndex]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase Keys.Escape:\n\t\t\t\tthis._closeSelect();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Down:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (this._open || multiple) {\n\t\t\t\t\tthis._focusedIndex = (_focusedIndex + 1) % this._options.length;\n\t\t\t\t} else {\n\t\t\t\t\tthis._openSelect();\n\t\t\t\t}\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Up:\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._focusedIndex = (_focusedIndex - 1 + this._options.length) % this._options.length;\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t\tcase Keys.Home:\n\t\t\t\tthis._focusedIndex = 0;\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t\tcase Keys.End:\n\t\t\t\tthis._focusedIndex = this._options.length - 1;\n\t\t\t\tthis.invalidate();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _renderCustomOptions(): DNode[] {\n\t\tconst {\n\t\t\tCustomOption = SelectOption,\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\ttheme\n\t\t} = this.properties;\n\n\t\tconst optionNodes = this._options.map((option, i) => w(CustomOption, {\n\t\t\tfocused: this._focusedIndex === i,\n\t\t\tindex: i,\n\t\t\tkey: i + '',\n\t\t\toptionData: assign({}, option, {\n\t\t\t\tid: option.id,\n\t\t\t\tselected: multiple ? option.selected : value === option.value\n\t\t\t}),\n\t\t\tonMouseDown: this._onOptionMouseDown,\n\t\t\tonClick: this._onOptionClick,\n\t\t\ttheme\n\t\t}));\n\n\t\treturn optionNodes;\n\t}\n\n\t@diffProperty('options', auto)\n\tprotected onOptionsChange(previousProperties: { options: OptionData[] }, newProperties: { options: OptionData[] }) {\n\t\tconst {\n\t\t\toptions = []\n\t\t} = newProperties;\n\n\t\tthis._options = options.map((option) => {\n\t\t\treturn { id: uuid(), ...option };\n\t\t});\n\t}\n\n\tprotected renderNativeSelect(): DNode {\n\t\tconst {\n\t\t\tdescribedBy,\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\tmultiple,\n\t\t\tname,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tvalue\n\t\t} = this.properties;\n\n\t\t/* create option nodes */\n\t\tconst optionNodes = this._options.map(option => v('option', {\n\t\t\tvalue: option.value,\n\t\t\tinnerHTML: option.label,\n\t\t\tdisabled: option.disabled,\n\t\t\tselected: option.selected && multiple ? option.selected : null\n\t\t}));\n\n\t\treturn v('div', { classes: this.classes(css.inputWrapper) }, [\n\t\t\tv('select', {\n\t\t\t\tclasses: this.classes(css.input),\n\t\t\t\t'aria-describedby': describedBy,\n\t\t\t\tdisabled,\n\t\t\t\t'aria-invalid': invalid ? 'true' : null,\n\t\t\t\tmultiple: multiple ? true : null,\n\t\t\t\tname,\n\t\t\t\treadOnly,\n\t\t\t\t'aria-readonly': readOnly ? 'true' : null,\n\t\t\t\trequired,\n\t\t\t\tvalue,\n\t\t\t\tonblur: this._onBlur,\n\t\t\t\tonchange: this._onNativeChange,\n\t\t\t\tonclick: this._onClick,\n\t\t\t\tonfocus: this._onFocus,\n\t\t\t\tonkeydown: this._onKeyDown\n\t\t\t}, optionNodes),\n\t\t\tmultiple ? null : v('span', { classes: this.classes(css.arrow) }, [\n\t\t\t\tv('i', { classes: this.classes(iconCss.icon, iconCss.downIcon),\n\t\t\t\t\trole: 'presentation', 'aria-hidden': 'true'\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n\n\tprotected renderCustomMultiSelect(): DNode {\n\t\tconst {\n\t\t\t_focusedIndex\n\t\t} = this;\n\t\tconst {\n\t\t\tdescribedBy,\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\treadOnly,\n\t\t\trequired\n\t\t} = this.properties;\n\n\t\treturn v('div', { classes: this.classes(css.inputWrapper) }, [\n\t\t\tv('div', {\n\t\t\t\trole: 'listbox',\n\t\t\t\tclasses: this.classes(css.input),\n\t\t\t\tdisabled,\n\t\t\t\t'aria-describedby': describedBy,\n\t\t\t\t'aria-invalid': invalid ? 'true' : null,\n\t\t\t\t'aria-multiselectable': 'true',\n\t\t\t\t'aria-activedescendant': this._options.length > 0 ? this._options[_focusedIndex].id : null,\n\t\t\t\t'aria-readonly': readOnly ? 'true' : null,\n\t\t\t\t'aria-required': required ? 'true' : null,\n\t\t\t\ttabIndex: 0,\n\t\t\t\tonblur: this._onBlur,\n\t\t\t\tonfocus: this._onFocus,\n\t\t\t\tonkeydown: this._onListboxKeyDown\n\t\t\t}, this._renderCustomOptions())\n\t\t]);\n\t}\n\n\tprotected renderCustomSelect(): DNode {\n\t\tconst {\n\t\t\tdescribedBy,\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tvalue\n\t\t} = this.properties;\n\n\t\tconst {\n\t\t\t_open,\n\t\t\t_focusedIndex,\n\t\t\t_selectId\n\t\t} = this;\n\n\t\tconst selectedOption = find(this._options, (option: OptionData) => option.value === value) || this._options[0];\n\n\t\t// create dropdown trigger and select box\n\t\treturn v('div', {\n\t\t\tclasses: this.classes(css.inputWrapper, _open ? css.open : null)\n\t\t}, [\n\t\t\tv('button', {\n\t\t\t\tclasses: this.classes(css.trigger),\n\t\t\t\tdisabled,\n\t\t\t\t'aria-controls': _selectId,\n\t\t\t\t'aria-owns': _selectId,\n\t\t\t\t'aria-expanded': _open + '',\n\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t'aria-activedescendant': this._options.length > 0 ? this._options[_focusedIndex].id : null,\n\t\t\t\tvalue,\n\t\t\t\tonblur: this._onTriggerBlur,\n\t\t\t\tonclick: this._onTriggerClick,\n\t\t\t\tonfocus: this._onFocus,\n\t\t\t\tonkeydown: this._onListboxKeyDown\n\t\t\t}, [ selectedOption ? selectedOption.label : '' ]),\n\t\t\tv('span', { classes: this.classes(css.arrow) }, [\n\t\t\t\tv('i', {\n\t\t\t\t\tclasses: this.classes(iconCss.icon, iconCss.downIcon),\n\t\t\t\t\trole: 'presentation', 'aria-hidden': 'true'\n\t\t\t\t})\n\t\t\t]),\n\t\t\tv('div', {\n\t\t\t\trole: 'listbox',\n\t\t\t\tid: _selectId,\n\t\t\t\tclasses: this.classes(css.dropdown),\n\t\t\t\t'aria-describedby': describedBy,\n\t\t\t\t'aria-invalid': invalid ? 'true' : null,\n\t\t\t\t'aria-readonly': readOnly ? 'true' : null,\n\t\t\t\t'aria-required': required ? 'true' : null\n\t\t\t}, this._renderCustomOptions())\n\t\t]);\n\t}\n\n\tprotected render(): DNode {\n\t\tconst {\n\t\t\tdisabled,\n\t\t\tinvalid,\n\t\t\tlabel,\n\t\t\tmultiple,\n\t\t\treadOnly,\n\t\t\trequired,\n\t\t\tuseNativeElement = false,\n\t\t\ttheme\n\t\t} = this.properties;\n\n\t\tconst stateClasses = [\n\t\t\tdisabled ? css.disabled : null,\n\t\t\tinvalid ? css.invalid : null,\n\t\t\tinvalid === false ? css.valid : null,\n\t\t\tmultiple ? css.multiselect : null,\n\t\t\treadOnly ? css.readonly : null,\n\t\t\trequired ? css.required : null\n\t\t];\n\n\t\tlet rootWidget, select;\n\n\t\tif (useNativeElement) {\n\t\t\tselect = this.renderNativeSelect();\n\t\t}\n\t\telse {\n\t\t\tselect = multiple ? this.renderCustomMultiSelect() : this.renderCustomSelect();\n\t\t}\n\n\t\tif (label) {\n\t\t\trootWidget = w(Label, {\n\t\t\t\textraClasses: { root: parseLabelClasses(this.classes(css.root, ...stateClasses)()) },\n\t\t\t\tlabel,\n\t\t\t\ttheme\n\t\t\t}, [ select ]);\n\t\t}\n\t\telse {\n\t\t\trootWidget = v('div', {\n\t\t\t\tclasses: this.classes(css.root, ...stateClasses)\n\t\t\t}, [ select ]);\n\t\t}\n\n\t\treturn rootWidget;\n\t}\n}\n"]}