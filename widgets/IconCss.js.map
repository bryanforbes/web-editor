{"version":3,"file":"IconCss.js","sourceRoot":"","sources":["../../src/widgets/IconCss.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;IAAA,yCAAwC;IAExC,2DAAsD;IACtD,0CAA0D;IAmB1D;;;;;OAKG;IACH,2BAA2B,UAAkB,EAAE,SAAiB,EAAE,KAAe;QAChF,IAAM,QAAQ,GAAG,IAAI,oBAAY,EAAE,CAAC;QACpC,QAAQ,CAAC,aAAa,CAAC,EAAE,KAAK,OAAA,EAAE,UAAU,YAAA,EAAE,CAAC,CAAC;QAC9C,IAAI,MAAM,GAAG,EAAE,CAAC;QAEhB,GAAG,CAAC,CAAC,IAAM,GAAG,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACzC,MAAM,IAAI,SAAS,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;QACxE,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,mBAAmB,QAAgB,EAAE,OAAe;QACnD,MAAM,CAAI,QAAQ,wDAAmD,OAAO,YAAS,CAAC;IACvF,CAAC;IAED;;;OAGG;IACH;QAAoB,iBAAoB;aAApB,UAAoB,EAApB,qBAAoB,EAApB,IAAoB;YAApB,4BAAoB;;QACvC,MAAM,CAAC,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAED;;OAEG;IACH;QAAqC,2BAA6B;QAAlE;;QASA,CAAC;QARA,wBAAM,GAAN;YACC,MAAM,CAAC,KAAC,CAAC,OAAO,EAAE;gBACjB,KAAK,EAAE,QAAQ;gBACf,IAAI,EAAE,UAAU;aAChB,EAAE;gBACF,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,CAAC,UAAU,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI;aAC9J,CAAC,CAAC;QACJ,CAAC;QACF,cAAC;IAAD,CAAC,AATD,CAAqC,oBAAU,GAS9C","sourcesContent":["import { v } from '@dojo/widget-core/d';\nimport { WidgetProperties } from '@dojo/widget-core/interfaces';\nimport WidgetBase from '@dojo/widget-core/WidgetBase';\nimport { IconJson, IconResolver } from '../support/icons';\n\nexport interface IconCssProperties extends WidgetProperties {\n\t/**\n\t * The base class which identifies nodes that should have an icon\n\t */\n\tbaseClass: string;\n\n\t/**\n\t * An object structure which defines the different icons\n\t */\n\ticons?: IconJson;\n\n\t/**\n\t * The root path where the icons are located\n\t */\n\tsourcePath?: string;\n}\n\n/**\n * A function that converts an `IconJson` structure into CSS text\n * @param sourcePath The base URL where the icons are located\n * @param baseClass The base class name which an icon is based off of\n * @param icons An object structure that defines icon classes\n */\nfunction getStylesFromJson(sourcePath: string, baseClass: string, icons: IconJson) {\n\tconst resolver = new IconResolver();\n\tresolver.setProperties({ icons, sourcePath });\n\tlet styles = '';\n\n\tfor (const key in icons.iconDefinitions) {\n\t\tstyles += iconStyle(toSelector(baseClass, key), resolver.iconUrl(key));\n\t}\n\n\treturn styles;\n}\n\n/**\n * Generate a CSS style for a given selector and icon URL\n * @param selector The selector to use\n * @param iconUrl The URL of the icon to use\n */\nfunction iconStyle(selector: string, iconUrl: string) {\n\treturn `${selector}::before { content: ' '; background-image: url('${iconUrl}'); }\\n`;\n}\n\n/**\n * Take a set of string and create a CSS class selector out of it\n * @param classes Any number of strings\n */\nfunction toSelector(...classes: string[]) {\n\treturn '.' + classes.join('.');\n}\n\n/**\n * A class which generates a set of CSS for placing icons on elements\n */\nexport default class IconCss extends WidgetBase<IconCssProperties> {\n\trender() {\n\t\treturn v('style', {\n\t\t\tmedia: 'screen',\n\t\t\ttype: 'text/css'\n\t\t}, [\n\t\t\tthis.properties.icons && this.properties.sourcePath && getStylesFromJson(this.properties.sourcePath, this.properties.baseClass, this.properties.icons) || null\n\t\t]);\n\t}\n}\n"]}