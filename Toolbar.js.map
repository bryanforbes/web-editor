{"version":3,"file":"Toolbar.js","sourceRoot":"","sources":["../src/Toolbar.ts"],"names":[],"mappings":"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","sourcesContent":["import { v, w } from '@dojo/widget-core/d';\nimport { WNode } from '@dojo/widget-core/interfaces';\nimport { ThemeableMixin, ThemeableProperties, theme } from '@dojo/widget-core/mixins/Themeable';\nimport WidgetBase from '@dojo/widget-core/WidgetBase';\n\nimport * as actionbarCss from './styles/actionbar.m.css';\nimport * as actionbarbuttonCss from './styles/actionbarbutton.m.css';\nimport * as iconCss from './styles/icons.m.css';\nimport * as tabCss from './styles/tab.m.css';\nimport * as tablistCss from './styles/tablist.m.css';\nimport * as toolbarCss from './styles/toolbar.m.css';\n\nconst ThemeableBase = ThemeableMixin(WidgetBase);\n\nexport interface ActionBarProperties extends ThemeableProperties {\n\tlabel: string;\n}\n\nexport interface ActionBarButtonProperties extends ThemeableProperties {\n\ticonClass?: string;\n\tlabel: string;\n\n\tonClick?(): void;\n}\n\nexport interface TabProperties extends ThemeableProperties {\n\ticonClass?: string;\n\tlabel: string;\n\tlabelDescription?: string;\n\tselected?: boolean;\n\ttitle?: string;\n\n\t/**\n\t * Called when a tab is attempted to be closed\n\t * @param key The key of the tab\n\t * @param label The label of the tab\n\t */\n\tonClose?(key: string | number | undefined, label: string): void;\n\n\t/**\n\t * Called when a tab is attempted to be selected\n\t * @param key The key of the tab\n\t * @param label The label of the tab\n\t */\n\tonSelect?(key: string | number | undefined, label: string): void;\n}\n\nexport interface TablistProperties extends ThemeableProperties { }\n\nexport interface ToolbarProperties extends ThemeableProperties {\n\tfilesOpen?: boolean;\n\trunnable?: boolean;\n\trunnerOpen?: boolean;\n\n\tonRunClick?(): void;\n\tonToggleFiles?(): void;\n\tonToggleRunner?(): void;\n}\n\n@theme(actionbarCss)\nexport class ActionBar extends ThemeableBase<ActionBarProperties, WNode<ActionBarButton>> {\n\trender() {\n\t\treturn v('div', {\n\t\t\tclasses: this.classes(actionbarCss.root).fixed(actionbarCss.rootFixed),\n\t\t\tkey: 'root'\n\t\t} , [\n\t\t\tv('ul', {\n\t\t\t\t'aria-label': this.properties.label,\n\t\t\t\tclasses: this.classes(actionbarCss.toolbar).fixed(actionbarCss.toolbarFixed),\n\t\t\t\trole: 'toolbar'\n\t\t\t}, this.children)\n\t\t]);\n\t}\n}\n\n@theme(actionbarbuttonCss)\nexport class ActionBarButton extends ThemeableBase<ActionBarButtonProperties, null> {\n\tprivate _onClick() {\n\t\tconst { onClick } = this.properties;\n\t\tonClick && onClick();\n\t}\n\n\trender() {\n\t\tconst { iconClass, label: title } = this.properties;\n\t\treturn v('li', {\n\t\t\tclasses: this.classes(actionbarbuttonCss.root).fixed(actionbarbuttonCss.rootFixed),\n\t\t\trole: 'presentation',\n\t\t\tonclick: this._onClick\n\t\t}, [\n\t\t\tv('a', {\n\t\t\t\tclasses: this.classes(actionbarbuttonCss.label).fixed(actionbarbuttonCss.labelFixed, iconClass || null),\n\t\t\t\trole: 'button',\n\t\t\t\ttabIndex: 0,\n\t\t\t\ttitle\n\t\t\t})\n\t\t]);\n\t}\n}\n\n@theme(tabCss)\nexport class Tab extends ThemeableBase<TabProperties, null> {\n\tprivate _onclick() {\n\t\tconst { key, label, onSelect, selected } = this.properties;\n\t\tif (!selected && onSelect) {\n\t\t\tonSelect(key, label);\n\t\t}\n\t}\n\n\tprivate _onActionBarButtonClick = () => {\n\t\tconst { key, label, onClose } = this.properties;\n\t\tonClose && onClose(key, label);\n\t}\n\n\trender() {\n\t\tconst { iconClass, label, labelDescription, selected, title } = this.properties;\n\t\treturn v('div', {\n\t\t\t'aria-label': `${label}, tab`,\n\t\t\tclasses: this.classes(tabCss.root, selected ? tabCss.selected : null).fixed(tabCss.rootFixed),\n\t\t\trole: 'presentation',\n\t\t\ttabIndex: 0,\n\t\t\ttitle,\n\n\t\t\tonclick: this._onclick\n\t\t}, [\n\t\t\tv('div', {\n\t\t\t\tclasses: this.classes(tabCss.label).fixed(tabCss.labelFixed, iconCss.label, iconClass || null),\n\t\t\t\ttitle\n\t\t\t}, [\n\t\t\t\tv('a', {\n\t\t\t\t\tclasses: this.classes().fixed(tabCss.link)\n\t\t\t\t}, [ label ]),\n\t\t\t\tv('span', {\n\t\t\t\t\tclasses: this.classes(tabCss.description).fixed(tabCss.descriptionFixed)\n\t\t\t\t}, [ labelDescription ])\n\t\t\t]),\n\t\t\tv('div', {\n\t\t\t\tclasses: this.classes(tabCss.closer),\n\t\t\t\tkey: 'closer'\n\t\t\t}, [\n\t\t\t\tw(ActionBar, {\n\t\t\t\t\tlabel: 'Tab actions'\n\t\t\t\t}, [\n\t\t\t\t\tw(ActionBarButton, {\n\t\t\t\t\t\ticonClass: tabCss.closeIcon,\n\t\t\t\t\t\tlabel: `Close ${label}`,\n\t\t\t\t\t\tonClick: this._onActionBarButtonClick\n\t\t\t\t\t})\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n@theme(tablistCss)\nexport class Tablist extends ThemeableBase<TablistProperties, WNode<Tab>> {\n\trender () {\n\t\treturn v('div', {\n\t\t\tclasses: this.classes(tablistCss.root).fixed(tablistCss.rootFixed),\n\t\t\tkey: 'root',\n\t\t\trole: 'presentation'\n\t\t}, [\n\t\t\tv('div', {\n\t\t\t\tclasses: this.classes(tablistCss.tablist).fixed(tablistCss.tablistFixed),\n\t\t\t\tkey: 'tablist',\n\t\t\t\trole: 'tablist'\n\t\t\t}, this.children)\n\t\t]);\n\t}\n}\n\n@theme(toolbarCss)\nexport default class Toolbar extends ThemeableBase<ToolbarProperties, WNode<Tab>> {\n\tprivate _onFilesClick = () => {\n\t\tconst { onToggleFiles } = this.properties;\n\t\tonToggleFiles && onToggleFiles();\n\t}\n\n\tprivate _onRunClick = () => {\n\t\tconst { onRunClick } = this.properties;\n\t\tonRunClick && onRunClick();\n\t}\n\n\tprivate _onRunnerClick = () => {\n\t\tconst { onToggleRunner } = this.properties;\n\t\tonToggleRunner && onToggleRunner();\n\t}\n\n\trender() {\n\t\tconst { filesOpen, runnable, runnerOpen, theme } = this.properties;\n\t\treturn v('div', {\n\t\t\tclasses: this.classes(toolbarCss.root).fixed(toolbarCss.rootFixed),\n\t\t\tkey: 'root'\n\t\t}, [\n\t\t\tw(ActionBar, {\n\t\t\t\tkey: 'fileActions',\n\t\t\t\tlabel: 'File actions',\n\t\t\t\ttheme\n\t\t\t}, [\n\t\t\t\tw(ActionBarButton, {\n\t\t\t\t\tlabel: 'Toggle files',\n\t\t\t\t\ticonClass: filesOpen ? toolbarCss.filesIconOpen : toolbarCss.filesIconClosed,\n\t\t\t\t\ttheme,\n\t\t\t\t\tonClick: this._onFilesClick\n\t\t\t\t})\n\t\t\t]),\n\t\t\tw(Tablist, {\n\t\t\t\ttheme\n\t\t\t}, this.children),\n\t\t\tw(ActionBar, {\n\t\t\t\tkey: 'runnerActions',\n\t\t\t\tlabel: 'Runner actions',\n\t\t\t\ttheme\n\t\t\t}, [\n\t\t\t\tw(ActionBarButton, {\n\t\t\t\t\tkey: 'runProject',\n\t\t\t\t\tlabel: 'Run project',\n\t\t\t\t\ticonClass: runnable ? toolbarCss.runIconEnabled : toolbarCss.runIconDisabled,\n\t\t\t\t\ttheme,\n\t\t\t\t\tonClick: this._onRunClick\n\t\t\t\t}),\n\t\t\t\tw(ActionBarButton, {\n\t\t\t\t\tkey: 'toggleRunner',\n\t\t\t\t\tlabel: 'Toggle runner',\n\t\t\t\t\ticonClass: runnerOpen ? toolbarCss.previewIconOpen : toolbarCss.previewIconClosed,\n\t\t\t\t\ttheme,\n\t\t\t\t\tonClick: this._onRunnerClick\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n}\n"]}