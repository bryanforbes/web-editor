{"version":3,"file":"editor.js","sourceRoot":"","sources":["../../src/examples/editor.ts"],"names":[],"mappings":"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","sourcesContent":["import Editor from '../Editor';\nimport project from '../project';\nimport Runner from '../Runner';\n\n/* path to the project directory */\nconst PROJECT_DIRECTORY = '../../../projects/';\n\n/* get references to key DOM nodes */\nconst divFile = <HTMLDivElement> document.getElementById('div-file');\nconst loadProjectButton = <HTMLButtonElement> document.getElementById('load-project');\nconst projectSelect = <HTMLSelectElement> document.getElementById('project');\nconst selectFile = <HTMLSelectElement> document.getElementById('select-file');\nconst runButton = <HTMLButtonElement> document.getElementById('run');\n\n/* create an editor */\nconst editorDiv = <HTMLDivElement> document.getElementById('editor');\nconst editor = new Editor(editorDiv, {\n\tautomaticLayout: true /* enables the editor to resize automagically */\n});\n\n/* create a runner */\nconst runnerDiv = <HTMLIFrameElement> document.getElementById('runner');\nconst runner = new Runner(runnerDiv);\n\n/**\n * Listener that will be attached to the load project button click\n * @param e The mouse event\n */\nasync function loadProjectButtonClick(e: MouseEvent) {\n\te.preventDefault();\n\tawait load(PROJECT_DIRECTORY + projectSelect.value);\n\n\tprojectSelect.setAttribute('disabled', 'disabled');\n\tloadProjectButton.setAttribute('disabled', 'disabled');\n\tloadProjectButton.removeEventListener('click', loadProjectButtonClick);\n}\n\nasync function runButtonClick(e: MouseEvent) {\n\te.preventDefault();\n\trunButton.setAttribute('disabled', 'disabled');\n\tawait runner.run();\n\trunButton.removeAttribute('disabled');\n}\n\n/**\n * Listener that will be attached to the file select when there is a change which changes\n * the file that the editor is currently updating\n * @param e The event from the select change\n */\nfunction displayFileSelectChange(e: Event) {\n\te.preventDefault();\n\teditor.display(selectFile.value);\n}\n\n/**\n * Load the project bundle, setup the UI and display the initial file\n * @param filename The project bundle file to load\n */\nasync function load(filename: string) {\n\tconsole.log('Loading project...');\n\tawait project.load(filename);\n\tconst projectBundle = project.get()!;\n\tconsole.log(`Loaded. Project contains ${projectBundle.files.length + projectBundle.environmentFiles.length} files.`);\n\n\t/* generate UI for selecting a file */\n\tproject.getFiles()\n\t\t.sort((a, b) => a < b ? -1 : 1)\n\t\t.forEach((name) => {\n\t\t\tconst option = document.createElement('option');\n\t\t\toption.value = name;\n\t\t\toption.text = name;\n\t\t\tselectFile.appendChild(option);\n\t\t});\n\tselectFile.addEventListener('change', displayFileSelectChange);\n\teditor.display(selectFile.value);\n\tdivFile.classList.remove('hidden');\n}\n\n/* attach button listeners */\nloadProjectButton.addEventListener('click', loadProjectButtonClick);\nloadProjectButton.removeAttribute('disabled');\nprojectSelect.removeAttribute('disabled');\nrunButton.addEventListener('click', runButtonClick);\n"]}